esphome:
  name: esp32-poe2
  comment: Olimex ESP32-POE2 (WROVER-E N4R8)

esp32:
  board: esp32dev
  framework:
    type: arduino
  psram:
    mode: quad
    speed: 80MHz

logger:

# ===== WIFI (PRIMARY) =====
wifi:
  ssid: !secret wifi_ssid
  password: !secret wifi_password

  # Fallback AP if BOTH WiFi and Ethernet fail
  ap:
    ssid: "ESP32-POE2 Fallback"
    password: "fallback123"

captive_portal:

# ===== ETHERNET (SECONDARY / WIRED BACKUP) =====
ethernet:
  type: LAN8720
  mdc_pin: GPIO23
  mdio_pin: GPIO18
  clk_mode: GPIO0_IN
  phy_addr: 0
  power_pin: GPIO12

# ===== BUTTON =====
binary_sensor:
  - platform: gpio
    name: "BUT1 Button"
    pin:
      number: GPIO34
      mode: INPUT

# ===== POWER SENSE =====
sensor:
  - platform: adc
    pin: GPIO39
    name: "External Power Sense"
    attenuation: 11db
    update_interval: 10s

ota:
api:
